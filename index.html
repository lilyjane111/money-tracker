<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ë¥¢Âä°ÊåáÊå•Ëà± V6 Pro</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <div class="dashboard-container">
        <!-- È°∂ÈÉ®Ê†èÔºöÊîπ‰∏∫Êó•ÊúüËåÉÂõ¥ÈÄâÊã© -->
        <header class="top-bar">
            <div class="logo">üöÄ Ë¥¢Âä°ÊåáÊå•Ëà± V6</div>
            <div class="date-range-picker">
                <label>‰ªé</label>
                <input type="date" id="date-start">
                <label>Âà∞</label>
                <input type="date" id="date-end">
                <button id="reset-date-btn">Êú¨Êúà</button>
            </div>
        </header>

        <!-- ÁªüËÆ°Âç°Áâá (È´òÂ∫¶ÂéãÁº©) -->
        <div class="stats-row">
            <div class="stat-item">
                <span class="label">ÊîØÂá∫</span>
                <span class="val expense" id="stat-expense">¬•0.00</span>
            </div>
            <div class="stat-item">
                <span class="label">Êî∂ÂÖ•</span>
                <span class="val income" id="stat-income">¬•0.00</span>
            </div>
            <div class="stat-item">
                <span class="label">Áªì‰Ωô</span>
                <span class="val balance" id="stat-balance">¬•0.00</span>
            </div>
        </div>

        <!-- ‰∏ªÂ∏ÉÂ±ÄÔºöÂ∑¶ÂÆΩÂè≥Á™Ñ -->
        <div class="main-grid">
            
            <!-- === Â∑¶‰æßÔºöÊìç‰Ωú & ÂõæË°® (Âç†ÊçÆ 60%~70%) === -->
            <div class="left-panel">
                <div class="left-scroll-content">
                    
                    <!-- ËæìÂÖ•Âå∫ -->
                    <div class="card input-section">
                        <!-- È°∂ÈÉ® Tab -->
                        <div class="tab-header">
                            <button class="tab-btn active" onclick="switchInput('manual')">‚úçÔ∏è ËÆ∞Ë¥¶</button>
                            <button class="tab-btn" onclick="switchInput('ai')">ü§ñ AI</button>
                            <button class="tab-btn" onclick="editQuickActions()" style="margin-left:auto; font-size:0.8rem">‚öôÔ∏è ÁÆ°ÁêÜÈÄüËÆ∞</button>
                        </div>
                        
                        <!-- ÊâãÂä®Ê®°Âºè -->
                        <div id="mode-manual" class="input-mode">
                            <!-- ÈÄüËÆ∞ÊåâÈíÆÂå∫ -->
                            <div class="quick-tags-area" id="quick-actions-container">
                                <!-- JS ÁîüÊàê -->
                            </div>

                            <!-- Ë°®ÂçïË°å (Á¥ßÂáëÂ∏ÉÂ±Ä) -->
                            <div class="row">
                                <input type="datetime-local" id="date-input" style="width: 190px;">
                                <select id="category-input" style="flex:1">
                                    <option value="È§êÈ•Æ">üçî È§êÈ•Æ</option>
                                    <option value="‰∫§ÈÄö">üöó ‰∫§ÈÄö</option>
                                    <option value="Ë¥≠Áâ©">üõçÔ∏è Ë¥≠Áâ©</option>
                                    <option value="Â®±‰πê">üéÆ Â®±‰πê</option>
                                    <option value="Â±Ö‰Ωè">üè† Â±Ö‰Ωè</option>
                                    <option value="Â∑•ËµÑ">üí∞ Â∑•ËµÑ</option>
                                    <option value="ÂÖ∂‰ªñ">üìù ÂÖ∂‰ªñ</option>
                                </select>
                            </div>

                            <div class="row">
                                <input type="text" id="desc-input" placeholder="Â§áÊ≥®..." style="flex:2">
                                <input type="number" id="amount-input" placeholder="ÈáëÈ¢ù" style="flex:1">
                            </div>

                            <!-- Ê†áÁ≠æÁÆ°ÁêÜÂå∫ -->
                            <div class="tag-manager-row">
                                <input type="text" id="tags-input" placeholder="üè∑Ô∏è Ê†áÁ≠æ (Á©∫Ê†ºÂàÜÈöî)" class="tag-input-field">
                                <!-- È¢ÑËÆæÊ†áÁ≠æ‰∫ë -->
                                <div class="tag-cloud" id="tag-cloud">
                                    <!-- JS ÁîüÊàê: ÂíñÂï° Êó©È§ê Âú∞ÈìÅ... -->
                                </div>
                            </div>

                            <div class="row btn-row">
                                <button id="save-btn">ËÆ∞‰∏ÄÁ¨î</button>
                                <button id="cancel-edit-btn" style="display:none">ÂèñÊ∂à</button>
                            </div>
                        </div>

                        <!-- AI Ê®°Âºè -->
                        <div id="mode-ai" class="input-mode" style="display:none">
                            <textarea id="ai-input" placeholder="‰æãÂ¶ÇÔºöÂàöÊâçÁªôÁîµÂä®ËΩ¶ÂÖÖÁîµËä±‰∫Ü1ÂÖÉ..."></textarea>
                            <button id="ai-btn" class="ai-btn">‚ú® ËØÜÂà´Âπ∂‰øùÂ≠ò</button>
                        </div>
                    </div>

                    <!-- ÂõæË°®Âå∫ (Ëá™ÈÄÇÂ∫îÂ°´ÂÖÖ) -->
                    <div class="card chart-section">
                        <div class="chart-header">
                            <span>Êï∞ÊçÆÂàÜÊûê</span>
                            <div class="chart-tabs">
                                <button class="c-tab active" onclick="switchChart('pie')">ÊûÑÊàê</button>
                                <button class="c-tab" onclick="switchChart('line')">Ë∂ãÂäø</button>
                            </div>
                        </div>
                        <div class="chart-body">
                            <canvas id="mainChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- === Âè≥‰æßÔºöË¥¶ÂçïÂàóË°® (ÂèòÁ™ÑÔºåÂè™Â±ïÁ§∫Ê†∏ÂøÉ) === -->
            <div class="right-panel">
                <div class="card list-card">
                    <div class="list-header">
                        <input type="text" id="search-input" placeholder="üîç Êêú..." class="search-box">
                        <button id="toggle-batch-btn" class="batch-toggle-btn">ÊâπÈáè</button>
                    </div>
                    
                    <!-- ÊâπÈáèÊìç‰ΩúÊ†è (ÈªòËÆ§ÈöêËóè) -->
                    <div id="batch-bar" class="batch-bar" style="display:none">
                        <span id="batch-count">Â∑≤ÈÄâ 0</span>
                        <input type="text" id="batch-tag-input" placeholder="ËæìÂÖ•Ê†áÁ≠æ...">
                        <button onclick="batchAddTags()" class="btn-xs-primary">Âä†Ê†áÁ≠æ</button>
                        <button onclick="batchDelete()" class="btn-xs-danger">Âà†Èô§</button>
                    </div>

                    <div class="list-body">
                        <ul id="list">
                            <!-- JS ÁîüÊàê -->
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script type="module" src="app.js?v=V6_Ultimate"></script>
</body>
</html>
